<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì˜¤ëŠ˜ì˜ ì†ë‹´ì„ ë§ì¶°ë¼</title>
<style>
  body {margin:0; font-family: monospace; background:#0b1020; color:#fff; display:flex; justify-content:center; align-items:center; height:100vh; overflow:hidden;}
  .card {background:#10203a; padding:20px; border-radius:12px; width:400px; text-align:center; position:relative;}
  img {width:100%; height:250px; object-fit:cover; border-radius:8px; cursor:pointer;}
  .reveal {margin-top:10px; font-size:18px; color:#ffd34a; display:none;}
  input {margin-top:10px; padding:10px; width:80%; border-radius:6px; border:none; outline:none;}
  button {margin-top:10px; padding:10px 20px; border:none; border-radius:6px; background:#ffd34a; color:#2b2b2b; font-weight:bold; cursor:pointer;}
  .shake {animation:shake 0.5s;}
  @keyframes shake {0%{transform:translateX(0)}25%{transform:translateX(-8px)}50%{transform:translateX(6px)}75%{transform:translateX(-4px)}100%{transform:translateX(0)}}
  .confetti {position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; overflow:hidden;}
  .confetti span {position:absolute; width:6px; height:6px; background:#ff6b6b; animation:drop 1s linear forwards;}
  @keyframes drop {0%{opacity:1; transform:translateY(0) rotate(0deg);}100%{opacity:1; transform:translateY(250px) rotate(360deg);}}
  .message {position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:36px; font-weight:bold; color:#ffd34a; display:none; text-shadow:2px 2px 6px #000; z-index:10;}
</style>
</head>
<body>
<div class="card">
  <h2>ì˜¤ëŠ˜ì˜ ì†ë‹´ì„ ë§ì¶°ë¼</h2>
  <img id="mainImg" alt="íŒíŠ¸ ì´ë¯¸ì§€" src="">
  <div id="reveal" class="reveal"></div>
  <input id="answerInput" placeholder="ì†ë‹´ ë’·ë¶€ë¶„ ì…ë ¥ í›„ Enter">
  <button id="checkBtn">í™•ì¸</button>
  <div class="confetti" id="confetti"></div>
  <div class="message" id="message"></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function(){
  const DATA = [
    {keyword:"lion,child", proverb:"ì‚¬ìì„±ì–´: í˜¸ë‘ì´ êµ´ì— ë“¤ì–´ê°€ì•¼ í˜¸ë‘ì´ë¥¼ ì¡ëŠ”ë‹¤"}, 
    {keyword:"light,lamp", proverb:"ë“±ì” ë°‘ì´ ì–´ë‘¡ë‹¤"},
    {keyword:"frog,well", proverb:"ìš°ë¬¼ ì•ˆ ê°œêµ¬ë¦¬"},
    {keyword:"monkey,tree", proverb:"ì›ìˆ­ì´ë„ ë‚˜ë¬´ì—ì„œ ë–¨ì–´ì§„ë‹¤"}
  ];

  const current = DATA[Math.floor(Math.random()*DATA.length)];

  const mainImg = document.getElementById("mainImg");
  const reveal = document.getElementById("reveal");
  const answerInput = document.getElementById("answerInput");
  const checkBtn = document.getElementById("checkBtn");
  const confettiEl = document.getElementById("confetti");
  const messageEl = document.getElementById("message");

  // ì´ë¯¸ì§€ ë¡œë“œ
  function loadImage() {
    const kw = encodeURIComponent(current.keyword);
    mainImg.src = `https://source.unsplash.com/400x250/?${kw}&sig=${Date.now()}`;
    mainImg.onerror = ()=>{mainImg.src='https://source.unsplash.com/400x250/?children,play&sig='+Date.now();}
  }
  loadImage();

  // ì´ë¯¸ì§€ í´ë¦­ -> ì•ë¶€ë¶„ ê³µê°œ
  mainImg.addEventListener("click", ()=>{
    reveal.style.display="block";
    const text = current.proverb.split(":")[1];
    reveal.textContent = text.slice(0, Math.floor(text.length/2)) + "...";
  });

  // ë©”ì‹œì§€ í‘œì‹œ
  function showMessage(text, duration=2000){
    messageEl.textContent = text;
    messageEl.style.display = "block";
    setTimeout(()=>{messageEl.style.display="none"}, duration);
  }

  // ì…ë ¥ ê²€ì‚¬
  function checkAnswer(){
    const answer = answerInput.value.trim();
    const full = current.proverb.split(":")[1];
    if(answer.length===0) return;
    if(full.includes(answer)){
      // ì •ë‹µ: í­ì£½ + ë©”ì‹œì§€
      confettiEl.innerHTML="";
      for(let i=0;i<30;i++){
        const span=document.createElement("span");
        span.style.left=Math.random()*100+"%";
        span.style.background=`hsl(${Math.random()*360},100%,70%)`;
        confettiEl.appendChild(span);
        span.style.animationDuration=(0.8+Math.random())+"s";
      }
      showMessage("ì •ë‹µ! ğŸ‰", 3000);
    } else {
      // ì˜¤ë‹µ: í”ë“¤ê¸° + ë©”ì‹œì§€
      answerInput.classList.add("shake");
      showMessage("ë‹¤ì‹œ ìƒê°í•´ë³´ì ğŸ˜…", 1500);
      setTimeout(()=>{answerInput.classList.remove("shake")},500);
    }
  }

  checkBtn.addEventListener("click",checkAnswer);
  answerInput.addEventListener("keypress",(e)=>{if(e.key==="Enter") checkAnswer()});
});
</script>
</body>
</html>
